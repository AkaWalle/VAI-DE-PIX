#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run lint-staged
npx lint-staged

# Run backend linting
cd backend
python -m ruff check --fix . || exit 1
python -m black . --check || exit 1
cd ..

# Run TypeScript type check
npm run type-check || exit 1

# Run tests (quick mode)
cd backend
python -m pytest -q || exit 1
cd ..

